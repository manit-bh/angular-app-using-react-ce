(this["webpackJsonpds-boilerplate-react"]=this["webpackJsonpds-boilerplate-react"]||[]).push([[13],{44:function(i,t,e){"use strict";e.r(t),e.d(t,"bh_line_chart",(function(){return s}));var o=e(6),n=e(12),a=e(13),l=e(19),r=e(51),d=(e(52),e(54)),s=function(){function i(t){Object(n.a)(this,i),Object(l.h)(this,t),this.bhEventChange=Object(l.d)(this,"bhEventChange",7),this.height=400,this.disabledDatasetIndex=[]}return Object(a.a)(i,[{key:"watchData",value:function(){this._data="string"===typeof this.data?JSON.parse(this.data):this.data,this.componentDidLoad()}},{key:"watchOption",value:function(){this._option="string"===typeof this.option?JSON.parse(this.option):this.option,this.componentDidLoad()}},{key:"watchChartOptionOverride",value:function(){this._chartOptionOverride="string"===typeof this.chartOptionOverride?JSON.parse(this.chartOptionOverride):this.chartOptionOverride,this.componentDidLoad()}},{key:"componentWillLoad",value:function(){this._chartOptionOverride="string"===typeof this.chartOptionOverride?JSON.parse(this.chartOptionOverride):this.chartOptionOverride,this._data="string"===typeof this.data?JSON.parse(this.data):this.data,this._option="string"===typeof this.option?JSON.parse(this.option):this.option}},{key:"componentDidLoad",value:function(){var i,t,e,o,n,a,l,s,c,p,h,v,u,g,y,m,b,f,x,_,O,S,k,w,L,C,F,D,A,I,z,j,P,X,E,B=this,M=this,H=this.element__canvas.getContext("2d");d.a.defaults.LineWithDecorations=d.a.defaults.line,d.a.controllers.LineWithDecorations=d.a.controllers.line.extend({draw:function(i){if(d.a.controllers.line.prototype.draw.call(this,i),this.chart.tooltip._active&&this.chart.tooltip._active.length){var t=this.chart.tooltip._active[0],e=this.chart.ctx,o=t.tooltipPosition().x,n=this.chart.scales["y-axis-0"].top,a=this.chart.scales["y-axis-0"].bottom;e.save(),e.beginPath(),e.moveTo(o,n),e.lineTo(o,a),e.lineWidth=parseInt(r.a.effectBorderWidth.regular.replace("px","")),e.strokeStyle=r.a.colorBorder.controlUnselected,e.stroke(),this.chart.tooltip._active.forEach((function(i,t){if(M.disabledDatasetIndex.find((function(i){return i===t}))>-1);else{var n=new Path2D;n.moveTo(o,i._model.y),n.arc(o,i._model.y,4,0,2*Math.PI),e.fillStyle=i._options.borderColor,e.fill(n)}})),e.restore()}}}),this._chartOption=this.chartOptionOverride?this.chartOptionOverride:{type:"LineWithDecorations",data:{labels:null===(i=this._data)||void 0===i?void 0:i.labels,datasets:null===(t=this._data)||void 0===t?void 0:t.datasets.map((function(i,t){var e,o,n;return{label:i.label,data:i.data,lineTension:0,borderDash:(null===(e=B._option)||void 0===e?void 0:e.styleOverride)&&(null===(o=B._option.styleOverride[t])||void 0===o?void 0:o.isDashed)?[5,5]:[],borderWidth:2,borderColor:(null===(n=B._option)||void 0===n?void 0:n.styleOverride)&&B._option.styleOverride[t]&&B._option.styleOverride[t].color?B._option.styleOverride[t].color:Object(d.b)(B._option.mode,t),backgroundColor:r.a.colorFill.controlUnselected,borderCapStyle:"round",pointRadius:0,pointHoverRadius:4,pointHoverBorderColor:r.a.colorFill.controlUnselected,pointHitRadius:12}}))},options:{responsive:!0,tooltips:{enabled:!1,intersect:!1,mode:"x-axis",caretSize:0,caretPadding:r.a.spacing.paddingXsmall.replace("px",""),titleFontFamily:r.a.fontFamily.bodySmall,bodyFontFamily:r.a.fontFamily.bodySmall,titleSpacing:r.a.spacing.paddingXxsmall.replace("px",""),bodySpacing:0,cornerRadius:r.a.effectBorderRadius.medium.replace("px",""),xPadding:r.a.spacing.paddingXsmall.replace("px",""),yPadding:r.a.spacing.paddingXxsmall.replace("px",""),custom:(null===(o=null===(e=this._option)||void 0===e?void 0:e.tooltipSetting)||void 0===o?void 0:o.isDisabled)?function(){}:function(i){var t=M.element__tooltip;if(0===i.opacity)return void(t.style.opacity="0");t.classList.remove("above","below","no-transform"),i.yAlign?t.classList.add(i.yAlign):t.classList.add("no-transform");if(i.body){var e=i.title||[],o=i.body.map((function(i){return i.lines})),n="<thead>";e.forEach((function(i){var t,e;n+="<tr><th>"+((null===(t=M._option.tooltipSetting)||void 0===t?void 0:t.title)?null===(e=M._option.tooltipSetting)||void 0===e?void 0:e.title:i)+"</th></tr>"})),n+="</thead><tbody>",o.forEach((function(t,e){var o,a,l,d,s,c,p,h;if(!M.disabledDatasetIndex.includes(e)){var v=i.labelColors[e],u="background:"+v.backgroundColor;u+="; border-color:"+v.borderColor,u+="; border-width: "+r.a.effectBorderWidth.thick;var g='<div style="background-color: '+v.borderColor+"; width: ".concat(r.a.spacing.marginXsmall,"; height: ").concat(r.a.spacing.marginXsmall,"; border-radius: 50%; margin-right: ").concat(r.a.spacing.marginXsmall,';"></div>'),y='<span style="'+u+'"></span>',m="".concat(t[0].slice(0,t[0].indexOf(":")+2)).concat((null===(a=null===(o=M._option.tooltipSetting)||void 0===o?void 0:o.unit)||void 0===a?void 0:a.prefix)?null===(d=null===(l=M._option.tooltipSetting)||void 0===l?void 0:l.unit)||void 0===d?void 0:d.prefix:"").concat(t[0].slice(t[0].indexOf(": ")+2)).concat((null===(c=null===(s=M._option.tooltipSetting)||void 0===s?void 0:s.unit)||void 0===c?void 0:c.suffix)?null===(h=null===(p=M._option.tooltipSetting)||void 0===p?void 0:p.unit)||void 0===h?void 0:h.suffix:"");n+='<tr><td><div style="display: flex; align-items: center;">'+g+y+m+"</div></td></tr>"}})),n+="</tbody>",t.querySelector("table").innerHTML=n}var a=this._chart.canvas.getBoundingClientRect();t.style.opacity="1",t.style.textAlign="left",t.style.position="absolute",i.caretX+i.width>.75*a.width?t.style.left=i.caretX-parseInt(r.a.spacing.marginLarge.replace("px",""))-i.width+"px":t.style.left=i.caretX+parseInt(r.a.spacing.marginXsmall.replace("px",""))+"px";t.style.top=i.caretY+"px",t.style.fontFamily=i._bodyFontFamily,t.style.fontSize=i.bodyFontSize+"px",t.style.fontStyle=i._bodyFontStyle,t.style.padding=i.yPadding+"px "+i.xPadding+"px",t.style.pointerEvents="none",t.style.transition="opacity ".concat(r.a.motionDuration.normal," ").concat(r.a.motionEasing.normal),t.style.color=r.a.colorText.commonInversePrimary,t.style.borderRadius=r.a.effectBorderRadius.medium,t.style.backgroundColor=r.a.colorFill.commonOverlay,t.style.zIndex="30"}},maintainAspectRatio:!1,scales:{xAxes:[{ticks:{suggestedMin:null===(a=null===(n=this._option)||void 0===n?void 0:n.xAxis)||void 0===a?void 0:a.suggestedMin,suggestedMax:null===(s=null===(l=this._option)||void 0===l?void 0:l.xAxis)||void 0===s?void 0:s.suggestedMax,stepSize:(null===(p=null===(c=this._option)||void 0===c?void 0:c.xAxis)||void 0===p?void 0:p.stepSize)?null===(v=null===(h=this._option)||void 0===h?void 0:h.xAxis)||void 0===v?void 0:v.stepSize:20,fontFamily:r.a.fontFamily.bodySmall,fontColor:r.a.colorText.commonSecondary,fontSize:r.a.fontSize.bodySmall.replace("px",""),padding:r.a.spacing.paddingXsmall.replace("px","")},gridLines:{color:(null===(g=null===(u=this._option)||void 0===u?void 0:u.xAxis)||void 0===g?void 0:g.isHidden)?r.a.colorFill.controlUnselected:r.a.colorBorder.commonPrimary,zeroLineColor:(null===(m=null===(y=this._option)||void 0===y?void 0:y.xAxis)||void 0===m?void 0:m.isHidden)?r.a.colorFill.controlUnselected:r.a.colorBorder.commonPrimary},scaleLabel:{display:!!(null===(f=null===(b=this._option)||void 0===b?void 0:b.xAxis)||void 0===f?void 0:f.label),fontFamily:r.a.fontFamily.bodySmall,labelString:null===(_=null===(x=this._option)||void 0===x?void 0:x.xAxis)||void 0===_?void 0:_.label}}],yAxes:[{ticks:{suggestedMin:null===(S=null===(O=this._option)||void 0===O?void 0:O.yAxis)||void 0===S?void 0:S.suggestedMin,suggestedMax:null===(w=null===(k=this._option)||void 0===k?void 0:k.yAxis)||void 0===w?void 0:w.suggestedMax,fontFamily:r.a.fontFamily.bodySmall,fontColor:r.a.colorText.commonSecondary,fontSize:r.a.fontSize.bodySmall.replace("px",""),padding:parseInt(r.a.spacing.paddingXsmall.replace("px","")),stepSize:(null===(C=null===(L=this._option)||void 0===L?void 0:L.yAxis)||void 0===C?void 0:C.stepSize)?null===(D=null===(F=this._option)||void 0===F?void 0:F.yAxis)||void 0===D?void 0:D.stepSize:20},gridLines:{color:(null===(I=null===(A=this._option)||void 0===A?void 0:A.yAxis)||void 0===I?void 0:I.isHidden)?r.a.colorFill.controlUnselected:r.a.colorBorder.commonPrimary,zeroLineColor:(null===(j=null===(z=this._option)||void 0===z?void 0:z.yAxis)||void 0===j?void 0:j.isHidden)?r.a.colorFill.controlUnselected:r.a.colorBorder.commonPrimary},scaleLabel:{display:!0,fontFamily:r.a.fontFamily.bodySmall,labelString:null===(X=null===(P=this._option)||void 0===P?void 0:P.yAxis)||void 0===X?void 0:X.label}}]},legend:{position:"bottom",display:!1},legendCallback:function(i){return'\n        <ul class="bh-line-chart--legend">\n          '.concat(function(i){return i.data.datasets.map((function(i){return'<li class="bh-line-chart--legend-li">\n              <div class="bh-line-chart--legend-item">\n                <span class="bh-line-chart--legend-item--dot" style="background-color: '.concat(i.borderColor,'"></span>\n                <span class="typography--label-small">').concat(i.label,"</span>\n              </div>\n            </li>\n            ")})).join("")}(i),"\n        </ul>\n        \n      ")}}},this._chart=new d.a(H,this._chartOption),(null===(E=this._option)||void 0===E?void 0:E.disableLegend)||(this.element__legends.innerHTML=this._chart.generateLegend(),this.bindLegendClickEvent())}},{key:"bindLegendClickEvent",value:function(){var i=this,t=this.element__legends.querySelectorAll(".bh-line-chart--legend-li");t.forEach((function(e,n){e.addEventListener("click",(function(){i.disabledDatasetIndex=i.disabledDatasetIndex.find((function(i){return i===n}))>-1?i.disabledDatasetIndex.filter((function(i){return i!==n})):[].concat(Object(o.a)(i.disabledDatasetIndex),[n]),i.disabledDatasetIndex.find((function(i){return i===n}))>-1?t[n].classList.add("hidden"):t[n].classList.remove("hidden");var e=i._option.styleOverride&&i._option.styleOverride[n]&&i._option.styleOverride[n].color?i._option.styleOverride[n].color:Object(d.b)(i._option.mode,n);i._chart.data.datasets[n].borderColor=i.disabledDatasetIndex.find((function(i){return i===n}))>-1?"".concat(e,"00"):e,i._chart.update(),i.bhEventChange.emit({disabledDatasetIndex:i.disabledDatasetIndex})}))}))}},{key:"render",value:function(){var i=this;return Object(l.f)(l.a,{class:"bh-line-chart"},Object(l.f)("div",{class:"bh-line-chart-wrapper",style:{height:"".concat(this.height,"px")}},Object(l.f)("canvas",{ref:function(t){i.element__canvas=t}})),Object(l.f)("div",{ref:function(t){i.element__legends=t}}),Object(l.f)("div",{ref:function(t){i.element__tooltip=t}},Object(l.f)("table",{class:"bink-calc__tooltip"})))}}],[{key:"watchers",get:function(){return{data:["watchData"],option:["watchOption"],chartOptionOverride:["watchChartOptionOverride"]}}}]),i}();s.style=".bh-line-chart{display:block;overflow-x:hidden;position:relative}.bh-line-chart-wrapper{width:100%;height:420px}.bh-line-chart--legend{list-style-type:none;margin-block-start:0;margin-block-end:0;margin-inline-start:0;margin-inline-end:0;padding-inline-start:0;display:flex;flex-wrap:wrap;justify-content:center;margin-top:calc(var(--spacing-margin-medium) - var(--spacing-margin-xxsmall));margin-right:calc(-1 * var(--spacing-margin-large))}.bh-line-chart--legend-li{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;margin-top:var(--spacing-margin-xxsmall)}.bh-line-chart--legend-li.hidden{opacity:0.2}.bh-line-chart--legend-item{display:flex;align-items:center;margin-right:var(--spacing-margin-large)}.bh-line-chart--legend-item--dot{width:8px;height:8px;border-radius:50%;display:block;margin-right:var(--spacing-margin-xsmall)}"}}]);
//# sourceMappingURL=13.1e7dab14.chunk.js.map